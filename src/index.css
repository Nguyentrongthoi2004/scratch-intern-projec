@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  background-color: #f3f4f6; /* Màu nền xám nhẹ cho dịu mắt */
}

/* ============ BACKGROUND ANIMATION ============ */
@keyframes moveBackground {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-bg-scroll {
  /* SỬA TỪ 150% XUỐNG 110% */
  background-size: 110% 110%; 
  animation: moveBackground 30s ease infinite; /* Tăng thời gian lên 30s cho trôi chậm rãi chill chill */
}

/* ============ SPRITE SLIDE ============ */
@keyframes sprite-slide {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}

/* Class hỗ trợ pixel art */
.pixelated {
  image-rendering: pixelated; /* Chrome/Edge */
  image-rendering: crisp-edges; /* Firefox */
}

/* ============ Hiệu ứng viền sáng chạy vòng quanh ============ */
@keyframes border-rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.glow-border {
  position: relative;
  overflow: hidden;
  border-radius: 14px; /* Bo góc mượt mà */
  z-index: 0;
}

/* Tia sáng chạy */
.glow-border::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  
  /* Tạo dải màu hẹp và sắc nét (Tia Laser) */
  background: conic-gradient(
    transparent 0deg, 
    transparent 280deg, /* Khoảng trống lớn */
    rgba(255, 255, 255, 0.1) 300deg,
    rgba(255, 255, 255, 1) 360deg /* Điểm sáng chói lọi ở cuối */
  );
  
  /* Tốc độ siêu nhanh: 1s hoặc 1.5s */
  animation: border-rotate 0.5s linear infinite; 
}

/* Lớp nền giả để che phần giữa, chỉ lộ viền */
.glow-content {
  position: relative;
  z-index: 1;
  border-radius: 12px;
  background: transparent; /* Giữ trong suốt để thấy ảnh PNG */
}

/* ============ ĐANG CHẠY: RUNG NHẸ TOÀN BỘ MÁY ============ */
@keyframes shake-soft {
  0% { transform: translate(0, 0); }
  25% { transform: translate(1px, 0); }
  50% { transform: translate(-1px, 1px); }
  75% { transform: translate(1px, -1px); }
  100% { transform: translate(0, 0); }
}
.animate-shake-soft {
  animation: shake-soft 0.15s infinite;
  transform-origin: center;
}

/* ============ THUA: RUNG MẠNH 1 LẦN ============ */
@keyframes lose-shake {
  0%   { transform: translate(0, 0) rotate(0deg); }
  15%  { transform: translate(-4px, 2px) rotate(-1.5deg); }
  30%  { transform: translate(4px, -2px) rotate(1.5deg); }
  45%  { transform: translate(-4px, 3px) rotate(-2deg); }
  60%  { transform: translate(4px, -3px) rotate(2deg); }
  75%  { transform: translate(-3px, 1px) rotate(-1deg); }
  100% { transform: translate(0, 0) rotate(0deg); }
}
.animate-lose-shake {
  animation: lose-shake 0.4s ease-in-out 1;
  transform-origin: center;
}

/* ============ THẮNG: BẬT NẢY (POP) ============ */
@keyframes win-pop {
  0%   { transform: scale(1) translateY(0); }
  30%  { transform: scale(1.05) translateY(-6px); }
  60%  { transform: scale(1.02) translateY(0); }
  100% { transform: scale(1) translateY(0); }
}
.animate-win-pop {
  animation: win-pop 0.6s ease-out 1;
  transform-origin: center;
}

/* ============ Particles bay nhẹ trong màn hình ============ */
@keyframes float-particle {
  0%   { transform: translateY(10px); opacity: 0; }
  30%  { opacity: 0.3; }
  70%  { opacity: 0.4; }
  100% { transform: translateY(-20px); opacity: 0; }
}
.animate-float-particle {
  animation: float-particle 6s linear infinite;
}

/* ============ Stage fade-in khi đổi level ============ */
@keyframes screen-in {
  0%   { opacity: 0; filter: blur(6px); transform: scale(1.02); }
  100% { opacity: 1; filter: blur(0); transform: scale(1); }
}
.animate-screen-in {
  animation: screen-in 0.35s ease-out;
}

/* ============ Fade overlay win/lose ============ */
@keyframes fade-in-soft {
  from { opacity: 0; }
  to   { opacity: 1; }
}
.animate-fade-in-soft {
  animation: fade-in-soft 0.35s.ease-out;
}

/* ============ Ánh sáng quét trên Joy-Con ============ */
@keyframes shine {
  0%   { transform: translateX(0); opacity: 0; }
  40%  { opacity: 1; }
  60%  { opacity: 1; }
  100% { transform: translateX(140%); opacity: 0; }
}
.animate-shine {
  animation: shine 3.2s ease-in-out infinite;
}

/* ============ Confetti đơn giản cho màn thắng ============ */
@keyframes confetti {
  0%   { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  30%  { opacity: 1; }
  100% { transform: translateY(40px) rotate(360deg); opacity: 0; }
}
.animate-confetti {
  animation: confetti 1.4s.ease-out infinite;
}

/* ============ Sóng LED dưới Dashboard ============ */
@keyframes bar-wave {
  0%, 100% { transform: scaleY(0.6); opacity: 0.5; }
  50%      { transform: scaleY(1.2); opacity: 1; }
}
.animate-bar-wave {
  transform-origin: bottom;
  animation: bar-wave 1.5s ease-in-out infinite;
}

/* ============ GOLDEN GLOW EFFECT FOR SPECIAL ENDING ============ */
@keyframes golden-pulse {
  0%, 100% { box-shadow: 0 0 40px rgba(234, 179, 8, 0.4), inset 0 0 20px rgba(234, 179, 8, 0.2); }
  50% { box-shadow: 0 0 80px rgba(250, 204, 21, 0.7), inset 0 0 40px rgba(250, 204, 21, 0.4); }
}

@keyframes golden-rays {
  0% { transform: rotate(0deg); opacity: 0.3; }
  50% { opacity: 0.6; }
  100% { transform: rotate(360deg); opacity: 0.3; }
}

.golden-glow-container {
  /* This will be added to the Result Modal overlay */
  background: radial-gradient(circle, rgba(250, 204, 21, 0.2) 0%, rgba(0,0,0,0.8) 70%);
}

.golden-glow-container::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 200%;
  height: 200%;
  transform: translate(-50%, -50%);
  background: conic-gradient(from 0deg, transparent 0%, rgba(250, 204, 21, 0.1) 15%, transparent 30%);
  animation: golden-rays 10s linear infinite;
  pointer-events: none;
}
